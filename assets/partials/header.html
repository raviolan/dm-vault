<!-- Header Partial: Top toolbar and navigation -->
<div class="top">
    <div class="toolbar">
        <a class="chip" href="/index.html">Hembränt</a>
        <a class="chip" href="/graph.html">Graph</a>
        <a class="chip" href="/tags/index.html">Tags</a>
        <a class="chip" href="/session.html">Session</a>
        <button id="btnCreatePage" class="chip" title="Create New Page">+ New</button>
        <button id="btnEditPage" class="chip" title="Edit This Page">Edit</button>
    </div>
    <div class="search"><input id="searchBox" type="search" placeholder="Search titles, headings, #tags (Cmd/Ctrl-K)" />
    </div>
    <div id="searchResults" class="hovercard"></div>
</div>

<!-- Create Page Modal -->
<div id="createPageModal" class="modal" style="display: none;">
    <div class="modal-overlay"></div>
    <div class="modal-content">
        <h2>Create New Page</h2>
        <form id="createPageForm">
            <div class="form-group">
                <label for="pageType">Page Type</label>
                <select id="pageType" required>
                    <option value="pc">Character (PC)</option>
                    <option value="npc">NPC</option>
                    <option value="location">Location</option>
                    <option value="arc">Story Arc</option>
                    <option value="shop">Shop</option>
                    <option value="session">Session Note</option>
                    <option value="tool">Tool/Reference</option>
                </select>
            </div>
            <div class="form-group">
                <label for="pageTitle">Page Title</label>
                <input type="text" id="pageTitle" placeholder="Enter page title..." required />
            </div>
            <div class="form-actions">
                <button type="submit" class="btn-primary">Create Page</button>
                <button type="button" id="btnCancelCreate" class="btn-secondary">Cancel</button>
            </div>
        </form>
        <div id="createPageStatus" style="display: none;"></div>
    </div>
</div>

<!-- Edit Page Modal -->
<div id="editPageModal" class="modal" style="display: none;">
    <div class="modal-overlay"></div>
    <div class="modal-content">
        <h2>Edit Page</h2>
        <form id="editPageForm">
            <div class="form-group">
                <label for="editPageContent">Page Content (HTML)</label>
                <textarea id="editPageContent" rows="18" style="width:100%" required></textarea>
            </div>
            <div class="form-actions">
                <button type="submit" class="btn-primary">Save Changes</button>
                <button type="button" id="btnCancelEdit" class="btn-secondary">Cancel</button>
            </div>
        </form>
        <div id="editPageStatus" style="display: none;"></div>
    </div>
</div>

<!-- Delete Page Modal -->
<div id="deletePageModal" class="modal" style="display: none;">
    <div class="modal-overlay"></div>
    <div class="modal-content">
        <h2>Delete Page</h2>
        <p style="margin-bottom: 1em;">⚠️ This action cannot be undone. To confirm deletion, type the page title below:
        </p>
        <p style="margin-bottom: 1em;"><strong id="deletePageTitle"></strong></p>
        <form id="deletePageForm">
            <div class="form-group">
                <label for="deletePageConfirm">Type page title to confirm:</label>
                <input type="text" id="deletePageConfirm" style="width:100%" required autocomplete="off" />
            </div>
            <div class="form-actions">
                <button type="submit" class="btn-primary" style="background: #c33;">Delete Page</button>
                <button type="button" id="btnCancelDelete" class="btn-secondary">Cancel</button>
            </div>
        </form>
        <div id="deletePageStatus" style="display: none; margin-top: 1em;"></div>
    </div>
</div>

<!-- Confirmation Modal -->
<div id="confirmModal" class="modal" style="display: none;">
    <div class="modal-overlay"></div>
    <div class="modal-content" style="max-width: 450px;">
        <h2 id="confirmModalTitle">Confirm</h2>
        <p id="confirmModalMessage" style="margin: 1em 0;"></p>
        <div class="form-actions">
            <button type="button" id="confirmModalYes" class="btn-primary">Yes</button>
            <button type="button" id="confirmModalNo" class="btn-secondary">No</button>
        </div>
    </div>
</div>